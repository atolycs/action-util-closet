name: Update Release Tags
run-name: Move ${{ github.event.inputs.major_version }} to ${{ github.event.inputs.target }}

on:
 workflow_dispatch:
     inputs:
        target:
          description: The tag or reference to use
          required: true
        major_version:
            type: choice
            description: The major version to update
            options:
               - v2
               - v1

jobs:
    tag:
        runs-on: ubuntu-latest
        steps:
            - uses: actions/checkout@v3
              with:
                fetch-depth: 0
            - name: Git config
              run: |
                git config user.name "Ardentcats"
                git config user.email "41898282+github-actions[bot]@users.noreply.github.com"
            - name: Tag new Target
              run: |
                git tag -f ${{ github.event.inputs.major_version }} ${{ github.event.inputs.target }}

            - name: Push new Tag
              run: |
                git push origin ${{ github.event.inputs.major_version }} --force
              